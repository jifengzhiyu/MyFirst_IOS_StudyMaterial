

# SDWebImage（第三方框架）

![image-20211025144509129](%E7%AC%94%E8%AE%B0.assets/image-20211025144509129.png)

- - https://github.com/rs/SDWebImage

# 查看沙盒路径

设置断点

```objective-c
 po NSHomeDirectory()
```

![image-20211025160523764](%E7%AC%94%E8%AE%B0.assets/image-20211025160523764.png)

# 自定义operation

![image-20211025171328456](%E7%AC%94%E8%AE%B0.assets/image-20211025171328456.png)

## 取消

```objective-c
    [self.queue cancelAllOperations];
```

这个代码执行就是把操作的结束状态设置YES

并且取消当前还没执行的操作，也就是在操作结束之后，设置取消状态

![image-20211025231827107](%E7%AC%94%E8%AE%B0.assets/image-20211025231827107.png)

- 我们自己定义，取消操作会把当前正在执行的操作也取消：

![image-20211025231915447](%E7%AC%94%E8%AE%B0.assets/image-20211025231915447.png)

# 仿SDWebImage

![image-20211026105508312](%E7%AC%94%E8%AE%B0.assets/image-20211026105508312.png)

# 联合对象

- 分类中，自己写属性，是不会封装成员变量的（_currentString），自己写getter,setter无法返回值（不会封装成员变量）

- 解决：

运行时给对象增加属性，使用联合对象函数

# 第三方框架

![image-20211028152701062](%E7%AC%94%E8%AE%B0.assets/image-20211028152701062.png)

- 自己写的框架，第二方框架

- 看githu  b星数

 # NSCache

![image-20211028164757503](%E7%AC%94%E8%AE%B0.assets/image-20211028164757503.png)

   

- 缓存成本：最大缓存数量（超过的还会缓存，但是会把之前缓存的删除）

![image-20211028200119920](%E7%AC%94%E8%AE%B0.assets/image-20211028200119920.png)

  ![image-20211028201834471](%E7%AC%94%E8%AE%B0.assets/image-20211028201834471.png)

![image-20211028201853380](%E7%AC%94%E8%AE%B0.assets/image-20211028201853380.png)

 
