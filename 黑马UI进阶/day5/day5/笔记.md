# modal跳转

![image-20211003210753546](%E7%AC%94%E8%AE%B0.assets/image-20211003210753546.png)

- 选择modal还是push:取决于业务逻辑

两个控制器有联系：push

没有联系:modal

## 更改跳转样式

```objective-c
 //设置跳转方式
    vc.modalPresentationStyle = UIModalPresentationFullScreen;
    vc.modalTransitionStyle = UIModalTransitionStyleFlipHorizontal;
```



# 在storyboard里通过modal跳转

两个UIViewController直接拖拽连线 show

默认就是model跳转

## 更改跳转样式

![image-20211003213221570](%E7%AC%94%E8%AE%B0.assets/image-20211003213221570.png)

# Quartz2D

![image-20211003215357538](%E7%AC%94%E8%AE%B0.assets/image-20211003215357538.png)

![image-20211003215724295](%E7%AC%94%E8%AE%B0.assets/image-20211003215724295.png)

![image-20211003215747109](%E7%AC%94%E8%AE%B0.assets/image-20211003215747109.png)

![image-20211003215754651](%E7%AC%94%E8%AE%B0.assets/image-20211003215754651.png)

![image-20211003215801842](%E7%AC%94%E8%AE%B0.assets/image-20211003215801842.png)

![image-20211003215810606](%E7%AC%94%E8%AE%B0.assets/image-20211003215810606.png)

![image-20211003215823078](%E7%AC%94%E8%AE%B0.assets/image-20211003215823078.png)

![image-20211003215851326](%E7%AC%94%E8%AE%B0.assets/image-20211003215851326.png)

- 图形上下文～～草稿纸

- 路径：画的线条

- 渲染：在最终的地方画画

# 图形上下文CGContextRef

![image-20211003220058134](%E7%AC%94%E8%AE%B0.assets/image-20211003220058134.png)

- 上下文Graphics Context

上下文的类型，决定输出的目标

![image-20211003220352300](%E7%AC%94%E8%AE%B0.assets/image-20211003220352300.png)

![image-20211003220424212](%E7%AC%94%E8%AE%B0.assets/image-20211003220424212.png)

# 绘图的步骤

1、故事版拖拽一个UIView,设置自定义类

2、看JFView.m

# 绘图的方式

![image-20211003225141292](%E7%AC%94%E8%AE%B0.assets/image-20211003225141292.png)

**能用纯OC就用,里面直接封装好了**

![image-20211004095613594](%E7%AC%94%E8%AE%B0.assets/image-20211004095613594.png)

# 简单绘图Demo

## 圆角矩形

![image-20211004100732839](%E7%AC%94%E8%AE%B0.assets/image-20211004100732839.png)

变成圆形：圆角半径是矩形宽度的一半

这里面：只要大于矩形宽度的一半 的三分之二 就是一个圆

## 圆

![image-20211004102811245](%E7%AC%94%E8%AE%B0.assets/image-20211004102811245.png)

![image-20211004102838646](%E7%AC%94%E8%AE%B0.assets/image-20211004102838646.png)

# 绘图的样式

- 在渲染之前设置样式

![image-20211004105855995](%E7%AC%94%E8%AE%B0.assets/image-20211004105855995.png)

- OC， C很多样式方法可以混用

# 渲染方式（描边/填充)

- 实心/空心/既填充又描边

# 奇偶填充规则

![image-20211004161145249](%E7%AC%94%E8%AE%B0.assets/image-20211004161145249.png)

一种填充规则：**非默认**

如果被覆盖了奇数次：填充

被覆盖了偶数次：不填充

# 非零绕数填充规则（默认

![image-20211004161225915](%E7%AC%94%E8%AE%B0.assets/image-20211004161225915.png)

 ![image-20211004162538316](%E7%AC%94%E8%AE%B0.assets/image-20211004162538316.png)

默认0

在图像内任意找一个点

以这个点为起点画射线，射线不与所画任何图像有切线

以射线无限延伸的方向为参考位置，如果画图像的笔 是 从左往右 跨过射线与该图片的焦点，**点所在的图像** +1

从右往左跨过 -1

图像为 0:不填充



例子：

![image-20211004170148912](%E7%AC%94%E8%AE%B0.assets/image-20211004170148912.png)

点在圆环内：画笔从右往左跨过交点  -1

所以圆环填充

![image-20211004170551049](%E7%AC%94%E8%AE%B0.assets/image-20211004170551049.png)

点在圆环内

产生三个交点：
从上往下

第一个交点（大圆）：从右到左 -1

第二个交点（小圆）：从左往右 1

第三个交点（小圆）：从左往右 1

共计：1，圆环填充

![image-20211004172513613](%E7%AC%94%E8%AE%B0.assets/image-20211004172513613.png)

点在小圆内

上交点：从左到右 +1

下交点：从右到左 -1

共计0，小圆不填充

# 饼图

![image-20211004173733980](%E7%AC%94%E8%AE%B0.assets/image-20211004173733980.png)

# 柱状图

![image-20211004184642841](%E7%AC%94%E8%AE%B0.assets/image-20211004184642841.png)

# 自定义进度条

![image-20211004190143624](%E7%AC%94%E8%AE%B0.assets/image-20211004190143624.png)







# 关闭路径

```objective-c
CGContextMoveToPoint(ctx, 50, 50);
    CGContextAddLineToPoint(ctx, 100, 100);
    CGContextAddLineToPoint(ctx, 150, 50);
    //CGContextAddLineToPoint(ctx, 50, 50);
    //关闭路径，把当前笔在的点 和 笔一开始在的点连线
    CGContextClosePath(ctx);
```

如果直接填充的话就会关闭路径填充

# 随机颜色

```objective-c
[UIColor colorWithRed:((float) arc4random_uniform(256) / 255.0) green:((float) arc4random_uniform(256) / 255.0) blue:((float) arc4random_uniform(256) / 255.0) alpha:1.0]
```

# 重绘

```objective-c
///重绘
///点击testView调用
- (void)touchesBegan:(NSSet<UITouch *> *)touches withEvent:(UIEvent *)event{
    //全部重绘
    //[self setNeedsDisplay];
    
    //重绘指定的部分
    [self setNeedsDisplayInRect:CGRectMake(0, 0, 150, 150)];
}
```

