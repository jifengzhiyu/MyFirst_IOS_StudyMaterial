# 数据选择控件

- UICollectionView, UITableView也是数据选择控件

- UIPickerView, UIDatePicker

![image-20210923171312260](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210923171312260.png)

​    ![image-20210923172134141](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210923172134141.png)

- 一列就是一组

- pickerView内部无法重用

# 点餐

## 随机点餐

![image-20210923222435091](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210923222435091.png)

- 生成随机数函数

![image-20210923223252919](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210923223252919.png)

# 两个控件快速control

选中一个控件control拖线到另外一个控件

![image-20210924202535680](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210924202535680.png)

1、设置当前距离固定距离

，，，，，，，

# 省市选择(二级联动)

## 多个pickerview同时滚动产生数组越界问题

 原因：城市行数根据上一个省来确定（还没有完全选中下一个省的时候，没有脱手时）

城市数据由上一个省份确定

在下一个省里面取上一个省城市行号，但是下一个省没有该行号的数据，所以越界

也就是说，省份和行号不匹配



解决：

在数据源获取行数方法中，也就是最初确定省份的地方，搞一个属性专门保存当前所选省份

更改代理方法显示行数据方法，返回行的数据

更改选中行的方法（给标签赋值），更改赋值数据

更改选中行的方法，添加刷新城市，初始化城市列为第0个城市

# UIDatePicker

- 模式：
- 语言设置:locale

![image-20210926173047828](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926173047828.png)

![image-20210926164112165](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926164112165.png)

![image-20210926164317908](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926164317908.png)

- NSDateFormatter

![image-20210926164404937](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926164404937.png)

- ToolBar: 工具栏，一个条，里面放按钮

- 里面放：UIbarbuttonitem，按钮。里面要么是文字，要么是图片

UIBarbuttonitem不能拖拽，想要调整边距，需要专门搞一个按钮来进行系统设置

![image-20210926172458860](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926172458860.png)

- 做法

把datePicker设置为inputView

把UIToolBar设为inputAccessoryView

![image-20210926172838774](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926172838774.png)

# 懒加载控件

- 属性使用strong ：

防止懒加载好了，出了大括号被释放

```objective-c
# pragma mark - 懒加载控件
- (UIDatePicker *)datePicker{
    if(!_datePicker){
        //不需要设置frame，自动会设置
        _datePicker = [[UIDatePicker alloc] init];
        //日期模式
        _datePicker.datePickerMode = UIDatePickerModeDate;
        //本地化local
        _datePicker.locale = [[NSLocale alloc] initWithLocaleIdentifier:@"zh-Hans"];
      //下图语言后缀
    }
    return _datePicker;
}
```

![image-20210926194216645](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926194216645.png)

# 项目文件

![image-20210926223806467](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926223806467.png)

![image-20210926222226048](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926222226048.png)

![image-20210926222233421](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926222233421.png)

- Bundle versions string, short：用于itunes上显示的版本号，即对外的版本。（最多是3个部分组成即 x.y.z）
  Bundle version：内部项目管理的版本号，不对外。所以可以定义任意形式。

![image-20210926222330844](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926222330844.png)

- 唯一标识，必须保证独一无二

![image-20210926222834597](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926222834597.png)

- 控制器默认加载stroyboard的文件名

![image-20210926222952008](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926222952008.png)

- ![image-20210926223025913](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926223025913.png)

- home键的位置

![image-20210926223217704](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926223217704.png)

- 获取项目文件

![image-20210926223436139](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926223436139.png)

# pch文件

![image-20210927231011354](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210927231011354.png)

已经不用了

PrefixHeader 预编译头文件

![image-20210926223855529](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210926223855529.png)

自己写的文件

$(SRCROOT)/自定义键盘datePicker/PrefixHeader.pch

 $(SRCROOT)/项目名/ pch 文件名

注意创建的时候勾选 target 选项.

选择工程的 target - build setting 选项

```
搜索 prefix header
```

![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)将 Precompile Prefix Header 选项的布尔值设为 YES

(该target不需要使用pch文件时)

![img](https://img-blog.csdnimg.cn/20210927143630285.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6ZyB6aOO5LmL6Zuo,size_20,color_FFFFFF,t_70,g_se,x_16)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==)

设置完成后就可以直接使用， 不 需要再在.m文件里面#import

pch文件里面可以定义宏，#improt其它头文件

# 测试的时候打印，发布之后不打印

![image-20210927145920910](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210927145920910.png)

CZ是前缀

- 更改测试与发布版本

![image-20210927150856946](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210927150856946.png)

- OC与C的混编

![image-20210927151244542](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210927151244542.png)

# Notification

![image-20210927172343713](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210927172343713.png)



# 状态栏

https://www.jianshu.com/p/334e6974303a

![image-20210927174146862](%E6%95%B0%E6%8D%AE%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6.assets/image-20210927174146862.png)



基于视图控制器的状态栏外观。

NO的话就不归控制器管了

```objective-c
//通过控制器
- (BOOL)prefersStatusBarHidden{
    return YES;
}
```

但是可以在控件的事件里面隐藏外观

（虽然现在不用了

```objective-c
//通过应用    
app.statusBarHidden = YES;
```

```objectivec
当取值为YES时，表示控制器对状态栏的设置的优先级高于application
 通过application对状态栏进行的设置将不起作用。

- 当取值为NO时，则以application为准，控制器设置状态栏preferredStatusBarStyle是无效的的根本不会被调用。

在开发中要根据实际情况来设置View controller-based status bar appearance的值。
```

- 为什么要把状态栏交给应用程序？

一个应用：多个界面，多个控制器

- #### 隐藏全局的状态栏

  https://blog.csdn.net/qq_14920635/article/details/111992150

1、在 Info.plist 文件中添加

- Status bar is initially hidden

  设置为 YES ，这个是隐藏 App 在 LunchScreen（欢迎界面）时的状态栏。

  *只隐藏LunchScreen的开启页面，其他页面需要局部隐藏就通过prefersStatusBarHidden隐藏*

2、View controller-based status bar appearance

- 设置为 NO这个是隐藏 App 在所有UIViewController 时的状态栏。【当然同时要项目勾选Hide status bar，这个没有勾选，也不会隐藏】

*除了LunchScreen的开启页面不隐藏，其他页面全部隐藏*

- **特别注意**
- 1）当 Status bar is initially hidden 设置为 NO 的时候，不管 View controller-based status bar appearance 设置为 NO 还是 YES ，都是无效的。
- 2）只有 Status bar is initially hidden 设置为 YES 的时候， View controller-based status bar appearance 才生效，这个要注意一下。





- https://juejin.cn/post/6885607243166220301

当你想改变状态栏颜色时在ViewController

```objective-c
- (UIStatusBarStyle)preferredStatusBarStyle{
    return UIStatusBarStyleLightContent;
}
```

