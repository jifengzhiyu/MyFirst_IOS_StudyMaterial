**确定：宽高X,Y**

# 屏幕适配

![image-20210921230905570](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210921230905570.png)

- MagicNumber: 直接出现的数字

- Autoresizing :以父控件为参照

- autolayout：

**只要设置参照，就不要设置frame**

避免重复设置，但是使用代码构建的时候，为了使控件显示出来，必须设置frame

![image-20210921232301682](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210921232301682.png)

![image-20210921231315059](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210921231315059.png)

![image-20210921231243083](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210921231243083.png)

两个下面的控件相距多少

- Size classes

![image-20210921231459498](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210921231459498.png)

不同的屏幕，使用不同的规则（坐标）

a屏幕控件放在屏幕下面，B屏幕该控件放在屏幕中间

即：不同屏幕，设置不同规则

Autolayout：不同屏幕，一个规则

**sizeClasses:不同屏幕  autolayout：设置规则**

![image-20210921232246407](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210921232246407.png)

![image-20210921232425725](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210921232425725.png)

# outoresizing

![image-20210922085754607](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922085754607.png)

![image-20210921232523454](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210921232523454.png)

# 案例1

![image-20210922080310268](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922080310268.png)

![image-20210922082034810](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922082034810.png)

- 大正方形：父控件

里面小正方形：当前控件

外面的红色线：固定距离

里面的红色线：高/宽 会不会随着外面的父控件的变化而变化

![image-20210922085454509](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922085454509.png) 

![image-20210922090256580](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922090256580.png)

- 多个模拟器同时观察

![image-20210922082523027](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922082541746.png)

![image-20210922082523027](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922082754393.png)

 # 通过代码实现autoresizing

![image-20210922090420841](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922090420841.png)

![image-20210922090441339](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922090441339.png)

# autoresizingMask枚举

![image-20210922094119521](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922094119521.png)

# autolayout自动布局

![image-20210922141220994](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922141220994.png)

- 参照：
- 约束（规则）：坐标

![image-20210922141736890](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922141736890.png)

对齐：

![image-20210922142052164](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922142052164.png)

在父容器中的对齐方式：

水平对齐为0：该控件中心点的x值 等于 view中心点的x值

![image-20210922162328022](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922162328022-2299009.png)

command选中两个控件，使另一个没有设置约束的控件与设置约束了的控件有相同制定的约束

![image-20210922142438148](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922142438148.png)

![image-20210922142927375](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922142927375.png)

- 设置相对任何控件的固定距离

- 固定该控件的宽度/高度

- 当前控件和任何控件的高度/宽度一样

![image-20210922143230373](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922143230373.png)

- 辅助解决问题: 删除当前控件所有约束

  ![image-20210922151022328](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922151022328.png)

# 警告错误

![image-20210922143703525](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922143703525.png)

# 案例2.1

![image-20210922144931299](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922144931299.png)

# 案例2.2

![image-20210922150543070](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922150543070.png)

# 消除状态栏的影响

![image-20210922152214194](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922152214194.png)

# 贴紧下面

改成负数

![image-20210922153113666](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922153113666.png)

![image-20210922153254125](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922153254125.png)

Constrain to margins：取消边距约束

# 案例2.3

![image-20210922154135565](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922154135565.png)

![image-20210922155234074](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922155234074.png)

选中两个控件command，就可以使用equal系列

- 步骤：

1、设置红色：左，下固定距离

2、设置蓝色：右、下固定距离

3、设置两个固定高度

4、设置一个固定距离（距离另外一个）

5、设置宽度相同

- 控件相对空间的固定距离

# 选择不了相邻控件的问题

![image-20210922155443092](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922155443092.png)

- 目标控件没有位于相邻方向

蓝色控件要在红色控件的相邻右边 

![image-20210922163336247](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922163336247.png)

# 案例2.4

![image-20210922163424360](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922163424360.png)

![image-20210922163922151](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922163922151.png)

- 宽度相等的实质：

constant

Multiplier

Object1.property1=（object2.property2*multiplier）+constant value 

![image-20210922165303728](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922165303728.png)

- 左边与x中线对齐

![image-20210922171410758](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922171410758.png)

# 案例2.5

![image-20210922172147158](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922172147158.png)

![image-20210922172208503](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922172208503.png)

- 设置大图片的适配：

1、图片框水平居中、垂直居中：保证图片中心不变，上下可以按照情况消失

2、设置左右距离0：保证填满屏幕

3、设置高度：为显示屏高度

- 在图片框中添加按钮，按钮会因为屏幕的不同而不同：

原因：根据按钮的y值，进行适配

解决：根据按钮距离屏幕中心的距离

- 类似按钮的控件，可以不设置大小，有默认值

![image-20210922194217183](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922194217183.png)

# 案例2.6

![image-20210922221157781](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922221157781.png)

# 添加约束规则

![image-20210922223845599](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922223845599.png)

![image-20210922224107776](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922224107776.png)

![image-20210922224142745](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922224142745.png)

![image-20210922224212865](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922224212865.png)

![image-20210922224301344](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922224301344.png)

# 代码实现autolayout（不常用）

![image-20210922224354695](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922224354695.png)

![image-20210922235220253](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922235220253.png)

![image-20210922224735674](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922224735674.png)

![image-20210922225846460](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210922225846460.png)

- 与其他控件无关的约束

```objective-c
//1、1创建蓝色view高度(50)的约束
    //该约束与其他控件无关，所以其中两个参数写成 nil NSLayoutAttributeNotAnAttribute
    NSLayoutConstraint *blueHC = [NSLayoutConstraint constraintWithItem:blueView attribute:NSLayoutAttributeHeight relatedBy:NSLayoutRelationEqual toItem:nil attribute:NSLayoutAttributeNotAnAttribute multiplier:1.0 constant:50];
    //把约束添加到空间上
    [blueView addConstraint:blueHC];
```

- 强调相对

```objective-c
//1、4距离右边30
    NSLayoutConstraint *blueRight = [NSLayoutConstraint constraintWithItem:blueView attribute:NSLayoutAttributeRight relatedBy:NSLayoutRelationEqual toItem:blueView.superview attribute:NSLayoutAttributeRight multiplier:1.0 constant:-30];
    //该控件相对于父控件的距离，该控件相对于父控件往左边，所以是-30
```

- 控件与空间的属性相等，最后将该约束添加到共同的父控件中

```objective-c
//2、1让红色view的高度等于蓝色view
    //控件与空间的属性相等，最后将该约束添加到共同的父控件中
    NSLayoutConstraint *redHC = [NSLayoutConstraint constraintWithItem:redView attribute:NSLayoutAttributeHeight relatedBy:NSLayoutRelationEqual toItem:blueView attribute:NSLayoutAttributeHeight multiplier:1.0 constant:0];
    [self.view addConstraint:redHC];
```

# 通过约束实现动画

**[self.view layoutIfNeeded];**
 **//如果有需要重新布局，调用父类方法**

```objective-c
- (IBAction)btnClick{
    self.viewTopConstraint.constant += 100;

    [UIView animateWithDuration:2.0 animations:^{
    [self.view layoutIfNeeded];
        //如果有需要重新布局，调用父类方法
    }];
```

# Size Class

![image-20210923161951826](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210923161951826.png)

![image-20210923162059654](%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D.assets/image-20210923162059654.png)

