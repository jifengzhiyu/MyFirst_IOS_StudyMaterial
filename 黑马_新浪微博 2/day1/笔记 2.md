- 控制流是指按一定的顺序排列程序元素来决定程序执行的顺序

# OC_switch

```objective-c
- (void)demoSwitch {
    int number = 10;
    
    /**
     switch 只能判断整数
     想要在switch内部定义变量需要加{  }
     
     */
    switch (number) {
        case 10:
        case 9: {
            NSString *name = @"老王";
            
            NSLog(@"%@ 好", name);
            break;
        }
        case 8:
            NSLog(@"一般");
        default:
            NSLog(@"差");
            break;
    }
}
```



![image-20211116223327446](%E7%AC%94%E8%AE%B0.assets/image-20211116223327446.png)

# 字符串

## 字符串的遍历

- 过时API

![image-20211116232605924](%E7%AC%94%E8%AE%B0.assets/image-20211116232605924.png)

## 字符串长度计算

- 过期API

![image-20211116233232500](%E7%AC%94%E8%AE%B0.assets/image-20211116233232500.png)

## 字符串的子串

- 过期api

![image-20211117094650728](%E7%AC%94%E8%AE%B0.assets/image-20211117094650728.png)

![image-20211117094721144](%E7%AC%94%E8%AE%B0.assets/image-20211117094721144.png)

1234，表示从第4个字符开始截取

# 数组

## OC面试题

![image-20211117164555402](%E7%AC%94%E8%AE%B0.assets/image-20211117164555402.png)

# 闭包演练

dispatch这里有问题??

![image-20211117220102822](%E7%AC%94%E8%AE%B0.assets/image-20211117220102822.png)

![image-20211117221325179](%E7%AC%94%E8%AE%B0.assets/image-20211117221325179.png)

![image-20211117224529664](%E7%AC%94%E8%AE%B0.assets/image-20211117224529664.png)

## 尾随闭包

![image-20211117225705263](%E7%AC%94%E8%AE%B0.assets/image-20211117225705263.png)

## 循环引用

- Block

![image-20211117231845721](%E7%AC%94%E8%AE%B0.assets/image-20211117231845721.png)

控制器self强引用block(viewDidLoad)

block(finished )强引用self（blcok内部调用self.view）

因为 图片红字，所以不会 造成循环引用问题

- 检查循环引用

在控制器里添加一个navigationController，加一个返回键item，show连线到目标控制器

在控制器和block创建的.m里面写delloc

![image-20211117234133544](%E7%AC%94%E8%AE%B0.assets/image-20211117234133544.png)

![image-20211118093525209](%E7%AC%94%E8%AE%B0.assets/image-20211118093525209.png)

- 出现循环引用：

Block---->self---->NetworkTools--->block

1.

![image-20211118093938157](%E7%AC%94%E8%AE%B0.assets/image-20211118093938157.png)

 2.

![image-20211118094254996](%E7%AC%94%E8%AE%B0.assets/image-20211118094254996.png)

```objective-c
typeof(self)是获取到self的类型,这样定义的weakSelf就是和self一个类型的,加上__weak是建立一个弱引用
  
 __weak typeof(self) weakSelf = self
```

![3](%E7%AC%94%E8%AE%B0.assets/image-20211118094449410.png)

## __weak & __unsafe_unretained

![image-20211118095458347](%E7%AC%94%E8%AE%B0.assets/image-20211118095458347.png)

![image-20211118155737368](%E7%AC%94%E8%AE%B0.assets/image-20211118155737368.png)

