# 静态库

http://www.javashuo.com/article/p-srpxxjhw-ea.html

**可以只用模拟机**

- 库是程序代码的集合，是共享程序代码的一种方式

- 库可以分为2种类型
  开源库
  公开源代码，能看到具体实现
  比如SDWebImage、AFNetworking

  闭源库
  不公开源代码，是经过编译后的二进制文件，看不到具体实现(没有.m文件)
  主要分为：静态库、动态库

![image-20220104161735115](%E7%AC%94%E8%AE%B0.assets/image-20220104161735115.png)

- 封装MRC代码，打包成二进制文件与release无关

连接时不复制，程序运行时由系统动态加载到内存，供程序调用，系统只加载一次，多个程序共用，节省内存。[ios暂时只容许使用系统动态库]

- framework为何既是静态库又是动态库？

  系统的.framework是动态库，咱们本身创建的.framework是静态库。

- 6、a与.framework有什么区别？

  .a是一个纯二进制文件，.framework中除了有二进制文件以外还有资源文件。debug

  .a文件不能直接使用，至少要有.h文件配合，.framework文件能够直接使用。调试

  .a + .h + sourceFile = .framework。

  建议用.framework.

- 查看.a的支持架构

```
cd 进到上一个目录
lipo -info xxxxxx.a
```



# 创建.a静态库

![image-20220104162343000](%E7%AC%94%E8%AE%B0.assets/image-20220104162343000.png)

- 命名英文

![image-20220104163412018](%E7%AC%94%E8%AE%B0.assets/image-20220104163412018.png)

![image-20220106164109271](%E7%AC%94%E8%AE%B0.assets/image-20220106164109271.png)

更改为======>

![image-20220106164102277](%E7%AC%94%E8%AE%B0.assets/image-20220106164102277.png)

# framework

https://www.jianshu.com/p/567eca35252d

https://www.pianshen.com/article/39641152114/

![image-20220105160841313](%E7%AC%94%E8%AE%B0.assets/image-20220105160841313.png)

- framework架构改变和.a一样

![image-20220106162724828](%E7%AC%94%E8%AE%B0.assets/image-20220106162724828.png)

# 联系人

![image-20220105164944896](%E7%AC%94%E8%AE%B0.assets/image-20220105164944896.png)

# CoreFoundation内存管理要释放

![image-20220105175901356](%E7%AC%94%E8%AE%B0.assets/image-20220105175901356.png)

# CF与F桥接问题

![image-20220105191654458](%E7%AC%94%E8%AE%B0.assets/image-20220105191654458.png)

# ARC&MRC混合开发

 看文件夹的PFD

MRC-->ARC需要字符串处理库

![image-20220106152254669](%E7%AC%94%E8%AE%B0.assets/image-20220106152254669.png)



接下来看PDF

方法1:Xcode自动转（成功率低）

方法2:一个个文件改(烦)

方法3:打包成静态库（不能修改代码）

Kaixin639

- 有的框架会适配ARC&MRC

条件编译来实现

