# 硬件信息的获取

\1. 需要导入iOS-system 类库, 同时还需要一个route.h

\2. 编译程序会报错, 加入<UIKit>框架, 或者使用pch文件, 添加UIKit框架

\3. 获取单例类, 然后查找相关的属性进行输出打印

# 内存分析工具

## ARC中的内存泄露

\1. 一般内存分析, 主要是看看有没有内存泄露

\2. 内存泄露: 创建了对象, 使用完毕没有释放, 将来就可能造成内存泄露

（占着茅坑不拉屎）

\3. 内存泄露: 主要用于MRC的内存检测

\4. 在ARC下也会有泄露的发生: 循环引用, Core Foundation（用到release）

## 静态分析工具

\1. 快捷键 : shift + com + B

\2. 只是单纯的检测语法缺陷, 很多开发者总以为只是检测内存泄露

\3. 不能完成检测到内存泄露, 只是分析上下语句的逻辑

\4. 只能帮我们检测到一部分可能泄露的代码, 到时候自己需要判断处理

\5. 程序不会运行

## 动态分析工具

\1. 快捷键: com + i

\2. 动态分析工具--> instruments --> Leaks选项就可以打开这个检测工具

\3. 程序会运行

\4. 可以通过点击Call Tree --> 隐藏系统方法, 来查看问题代码出在了那里

\5. 双击蓝色头像的代码, 就可以进入到问题代码中, 然后可以点击右上角的xcode图标, 打开xcode进行修改

![image-20220101160322407](%E7%AC%94%E8%AE%B0.assets/image-20220101160322407.png)

![image-20220101161801452](%E7%AC%94%E8%AE%B0.assets/image-20220101161801452.png)

如果看不见出现内存泄漏方法名称，command q



![image-20220101163128140](%E7%AC%94%E8%AE%B0.assets/image-20220101163128140.png)

双击条条看到代码

![image-20220101163207618](%E7%AC%94%E8%AE%B0.assets/image-20220101163207618.png)

![image-20220101163458527](%E7%AC%94%E8%AE%B0.assets/image-20220101163458527.png)

## 动态分析工具使用注意事项

\1. 测试时, 应该使用真机, 不要弄模拟器. 因为模拟器的性能其实跟电脑配有有关

\2. 测试时, 应该使用release模式. release模式下, 系统会对代码会做稍微的精简. release模式下 "看门狗"(系统会给模拟器一定程序上放权)将会关闭, 因此才会出现模拟器运行没事, 真机崩溃的情况

# 单元测试

\1. 创建项目是, 如果勾选了Unit测试, 默认就集成了单元测试, 否则需要手动添加Target

\2. 要测试时, 点击左边的菱形按钮即可

\3. 运行正常, 会出现绿色. 运行不正常, 会出现红色

\4. 最顶部还有一个菱形按钮, 用于多个测试代码都需要执行是, 可以点击顶部的按钮来统一测试

![image-20220101205939420](%E7%AC%94%E8%AE%B0.assets/image-20220101205939420.png)

创建上图项目，里面有下图文件

![image-20220101210111709](%E7%AC%94%E8%AE%B0.assets/image-20220101210111709.png)

