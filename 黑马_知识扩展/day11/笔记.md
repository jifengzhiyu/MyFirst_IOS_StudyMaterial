# 视频压缩

```
#pragma mark 4. 视频压缩 (了解)
1. 创建步骤跟普通的选取图像一样
2. 设置媒体类型 才可以方便找到视频
3. 在代理方法中进行压缩
    1. 获取资源 --> AVFoundation
    2. 根据资源, 创建资源导出会话对象
    3. 设置导出路径
    4. 设置导出类型
    5. 开始导出
```

![image-20220111091416626](%E7%AC%94%E8%AE%B0.assets/image-20220111091416626.png)

![image-20220111091430105](%E7%AC%94%E8%AE%B0.assets/image-20220111091430105.png)

看下面的图：

![image-20220111092820152](%E7%AC%94%E8%AE%B0.assets/image-20220111092820152.png)

 ![image-20220111091558549](%E7%AC%94%E8%AE%B0.assets/image-20220111091558549.png)

![image-20220111092425826](%E7%AC%94%E8%AE%B0.assets/image-20220111092425826.png)

 ![image-20220111092609314](%E7%AC%94%E8%AE%B0.assets/image-20220111092609314.png)

# UITest

![image-20220111101255278](%E7%AC%94%E8%AE%B0.assets/image-20220111101255278.png)

# iOS9新特性

```
1. Nullability 为空性标记
* Xcode6.3时推出的
* 类似swift的?和!, 可为空:__nullable / nullable, 不能为空:__nonnull / nonnull
* 意义: 看到nullable, 就进行判空处理
* 大部分都为nonnull, 有宏定义方便使用:NS_ASSUME_NONNULL_BEGIN 和 NS_ASSUME_NONNULL_END
* 编译器层面- 没有改变系统的底层, 类似ARC-编译期

2. Lightweight Generics 轻量级泛型
* 可以指定容器类中对象的类型了
NSArray<NSString *> *strings = @[@"dong", @“peng”];
NSDictionary<NSString *, NSNumber *> *mapping = @{@"a": @1, @"b": @2};

*  意义: 不用多想就清楚下面的数组中存的是什么，避免了跳转头文件及类型使用错误混乱。

* 纯编译器的语法支持（llvm 7.0），和 Nullability 一样，没有借助任何 objc runtime 的升级，也就是说，这个新语法在 Xcode 7 上可以使用且完全向下兼容（更低的 iOS 版本）

三. __kindof
1. 既明确表明了返回值，又让使用者不必写强转。
- (__kindof UITableViewCell *)dequeueReusableCellWithIdentifier:(NSString *)identifier;


范例: 使用时前面基本会使用 UITableViewCell 子类型的指针来接收返回值，所以这个 API 为了让开发者不必每次都蛋疼的写显式强转，把返回值定义成了 id 类型，

而这个 API 实际上的意思是返回一个 UITableViewCell 或 UITableViewCell 子类的实例

2. 再举个带泛型的例子，UIView 的 subviews 属性被修改成了：
@property (nonatomic, readonly, copy) NSArray<__kindof UIView *> *subviews;

这样，写下面的代码时就没有任何警告了：
UIButton *button = (UIButton *)view.subviews.lastObject;

二. SafariServices
如果公司没有特殊的界面制定要求, 当弹出网页的时候, 可以使用这里的SFSafariViewController
```

